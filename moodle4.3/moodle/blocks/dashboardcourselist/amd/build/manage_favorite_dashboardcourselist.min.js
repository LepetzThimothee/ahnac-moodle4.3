define("block_dashboardcourselist/manage_favorite_dashboardcourselist",["exports","jquery","core/notification","block_dashboardcourselist/course_favorite_util"],(function(_exports,_jquery,Notification,util){var obj;
/**
   * JavaScript module for managing favorite courses in the dashboardcourselist block.
   *
   * @module block_dashboardcourselist/manage_favorite_dashboardcourselist
   * @copyright   2024 Lepetz Thimoth√©e <lepetz.timo@gmail.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj},Notification=_interopRequireWildcard(Notification),util=_interopRequireWildcard(util);const handleRemoveFavoriteCourse=event=>{const data=event.detail,element=document.querySelector('.favorite-icon[data-course-id="'+data.courseId+'"]');element&&(element.classList.toggle("text-yellow"),element.classList.toggle("text-primary"))};_exports.init=()=>{(0,_jquery.default)(".favorite-icon").on("click",(event=>(event=>{event.preventDefault();const courseId=event.currentTarget.dataset.courseId,isFavorite=(0,_jquery.default)(event.currentTarget).hasClass("text-yellow");util.setCourseFavouriteState(parseInt(courseId),!isFavorite).then((success=>{if(success){(0,_jquery.default)(event.currentTarget).toggleClass("text-yellow text-primary");const favoriteChangedEvent=new CustomEvent("favoriteCourseChanged",{detail:{courseId:courseId}});document.dispatchEvent(favoriteChangedEvent)}else Notification.alert("Failed to update course favorite status.")})).catch(Notification.exception)})(event))),document.addEventListener("removeFavoriteCourse",handleRemoveFavoriteCourse)}}));

//# sourceMappingURL=manage_favorite_dashboardcourselist.min.js.map